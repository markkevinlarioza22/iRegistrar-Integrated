:root{
  --primary:yellowgreen;
  --primary-600:green;
  --accent:yellow;
  --bg:#f5f7f9;
  --panel-bg:#f2f3f4;
  --card:#ffffff;
  --muted:#6b7280;
  --text:#0b1220;
  --border:#e6e9ee;
  --radius:16px;
  --sidebar-w:220px;
  --shadow-sm:0 8px 24px rgba(11,20,36,0.06);
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
}

/* Reset */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;overflow-x:hidden}

/* Layout */
.layout{
  /* sidebar is fixed; don't rely on grid columns that can cause overlap */
  position:relative;
  min-height:100vh;
}

/* Sidebar (fixed left rail) */
.sidebar{
  position:fixed;
  left:0;
  top:0;
  bottom:0;
  width:var(--sidebar-w);
  background:linear-gradient(180deg,var(--primary),var(--primary-600));
  padding:22px 18px;
  display:flex;
  flex-direction:column;
  gap:14px;
  z-index:1000;
  overflow:auto;
}
.sidebar .brand{display:flex;flex-direction:column;align-items:center;gap:10px}
.sidebar .logo{width:72px;height:72px;border-radius:50%;overflow:hidden;background:rgba(255,255,255,0.06);display:flex;align-items:center;justify-content:center}
.sidebar .logo img{width:100%;height:100%;object-fit:contain;display:block}
.sidebar .brand-text{color:#fff;text-align:center;font-weight:700;font-size:13px;line-height:1.2}
.sidebar .avatar{width:72px;height:72px;border-radius:50%;background:rgba(255,255,255,0.08);display:grid;place-items:center;color:#fff;font-weight:700;box-shadow:0 8px 24px rgba(0,0,0,0.12)}
.avatar img{width:100%;height:100%;object-fit:cover;border-radius:12px;display:block}
/* ensure the larger avatar slot respects clipped corners */
#avatarLarge img{border-radius:8px}
.sidebar .nav{display:flex;flex-direction:column;margin-top:14px;gap:8px}
.nav a{display:flex;align-items:center;gap:12px;padding:12px;border-radius:12px;color:rgba(255,255,255,0.95);text-decoration:none;font-weight:700;font-size:14px}
.nav a .icon{width:26px;text-align:center;opacity:0.95}
.nav a:hover{background:rgba(255,255,255,0.06)}
.nav a.active{background:rgba(255,255,255,0.12)}
.sidebar .spacer{flex:1}

/* Content should account for fixed sidebar width */
.content{
  margin-left:var(--sidebar-w);
  width:calc(100% - var(--sidebar-w));
  display:flex;
  flex-direction:column;
  min-height:100vh;
  /* allow children to shrink properly */
  min-width:0;
}

/* Header and main should take full content width */
.header{
  background:var(--panel-bg);
  padding:24px 28px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  border-bottom:1px solid var(--border);
  width:100%;
  box-sizing:border-box;
}

main.container{
  padding:28px 36px;
  flex:1;
  overflow:auto;
  width:100%;
  box-sizing:border-box;
  /* allow content to expand across available width */
  max-width:none;
}

/* Stats grid - large rounded cards */
.stats-row{display:flex;gap:28px;align-items:flex-start;justify-content:flex-start;flex-wrap:wrap;margin-bottom:28px}
.stat-card{
  min-width:260px;
  flex:0 0 300px;
  height:120px;
  border-radius:18px;
  padding:20px;
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:space-between;
  box-shadow:var(--shadow-sm);
  background:linear-gradient(135deg,var(--primary),var(--primary-600));
  transition:transform .14s;
}
.stat-card:hover{transform:translateY(-6px)}
.stat-left{display:flex;flex-direction:column;gap:10px}
.stat-label{font-size:13px;opacity:0.95;font-weight:700}
.stat-value{font-size:28px;font-weight:900}
.stat-icon{width:64px;height:64px;border-radius:12px;display:grid;place-items:center;background:rgba(255,255,255,0.12);font-size:26px}

/* single-line metrics row */
.metrics-row{
  display:flex;
  gap:18px;
  align-items:stretch;
  flex-wrap:nowrap;       /* keep one line */
  overflow-x:auto;        /* allow horizontal scroll on small screens */
  padding-bottom:6px;
  -webkit-overflow-scrolling: touch;
}

/* Metric card sizing - fixed width but responsive */
.metrics-row .card.metric,
.metrics-row .metric.card{
  flex: 0 0 320px;        /* width for each card on desktop */
  min-width: 260px;       /* allow shrink but prevent collapse */
  border-radius:12px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.08);
}

/* ensure internal body stretches */
.metrics-row .card .card-body{ display:flex; align-items:center; height:100%; }

/* small screen tweak: reduce card width to keep them readable */
@media (max-width:900px){
  .metrics-row .card.metric{ flex: 0 0 280px; min-width: 220px; }
}
@media (max-width:520px){
  .metrics-row .card.metric{ flex: 0 0 85%; min-width: 260px; }
}

/* optional: nicer scrollbar (webkit) */
.metrics-row::-webkit-scrollbar{ height:10px; }
.metrics-row::-webkit-scrollbar-thumb{ background:rgba(0,0,0,0.12); border-radius:6px; }

/* Buttons / inputs */
select, input{padding:10px;border-radius:10px;border:1px solid var(--border);background:#fff}
.btn{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border-radius:10px;border:1px solid var(--border);background:var(--card);font-weight:800}
.btn.primary{background:linear-gradient(180deg,var(--primary),var(--primary-600));color:#fff;border:none}

/* Footer small */
.footer-small{font-size:12px;color:var(--muted);padding:18px;text-align:center}

/* Responsive */
@media (max-width:1000px){
  .sidebar{left:-100%;transition:left .18s}
  .sidebar.active{left:0}
  .content{margin-left:0;width:100%}
  main.container{padding:18px}
  .stat-card{flex:1 1 48%}
}
@media (max-width:640px){
  .stat-card{flex:1 1 100%;min-width:unset;height:110px}
  .header{padding:16px}
  .sidebar{width:200px}
}
